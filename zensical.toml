# ==========================================
# Zensical-Wcowin 配置文件
# 最好的 Zensical 中文教程
# ==========================================
#
# ⚠️ 重要：配置顺序规则
# 1. 先声明 [project] 父表
# 2. 然后配置所有直接属于 [project] 的键值对
# 3. 最后才声明子表（[project.theme], [project.extra] 等）
# 不能在声明子表后再回到父表添加键！
# 详细说明：https://wcowin.work/Zensical-Chinese-Tutorial/configuration/#重要配置顺序规则
# ==========================================

[project]
# ===== 基本信息 [Info] =====
site_name = "Zhangxige's Website"                # 网站名称
site_url = "https://zhangxige.github.io"         # 网站URL（请修改为你的域名）
site_description = "最详细、最便捷、最前沿的 Zensical 中文教程"  # 网站描述
site_author = "zhangxige"                        # 网站作者
copyright = "Copyright &copy; 2025 zhangxige"    # 左下角的版权声明
docs_dir = "docs"                                # 文档目录
site_dir = "site"                                # 生成的网站目录
use_directory_urls = true                        # 使用目录形式的URL

# ===== 仓库配置 =====
repo_url = "https://github.com/zhangxige"  # 右上角点击跳转的链接
repo_name = "zhangxige's github"                            # 右上角的名字
edit_uri = "edit/main/docs"                              # 编辑按钮跳转的链接

# ===== 额外的 JavaScript 文件 =====
extra_javascript = [
    "javascripts/extra.js",                                   # 额外功能脚本
    # "javascripts/mathjax.js",                                 # MathJax 配置
    # "https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"       # MathJax CDN
    "https://unpkg.com/katex@0/dist/katex.min.js",            # 1. 先加载 KaTeX 核心库
    "https://unpkg.com/katex@0/dist/contrib/auto-render.min.js",  # 2. 再加载自动渲染插件
    "javascripts/katex.js"                                     # 3. 最后加载配置文件
]

# ===== 额外的 CSS 文件 =====
extra_css = [
    "stylesheets/extra.css",          # 额外样式
    "stylesheets/ziti.css",            # 字体样式
    "https://unpkg.com/katex@0/dist/katex.min.css"
]

# ===== 导航配置 [Navigation] =====
nav = [
    {"zensical中文教程" = [
        { "主页" = "index.md" },
        { "快速开始" = [
            { "5 分钟快速开始" = "getting-started/quick-start.md" },
            { "从 MkDocs 迁移" = "getting-started/migration.md" },
        ] },
        { "核心教程" = [
            { "zensical.toml 配置详解" = "tutorials/configuration.md" },
            { "主题定制指南" = "tutorials/theme-customization.md" },
            { "Markdown 扩展使用" = "tutorials/markdown-extensions.md" },
            { "Zensical 博客系统完全指南" = "tutorials/blog-tutorial.md" },
        ] },
        { "插件系统" = [
            { "博客插件详解" = "blog/plugins/blog.md" },
            { "搜索插件配置" = "blog/plugins/search.md" },
            { "标签插件使用" = "blog/plugins/tags.md" },
            { "RSS 插件配置" = "blog/plugins/rss.md" },
        ] },
        { "部署指南" = [
            { "GitHub Pages 部署（推荐）" = "blog/deployment/github-pages.md" },
            { "Netlify 部署" = "blog/deployment/netlify.md" },
            { "GitLab Pages 部署" = "blog/deployment/gitlab-pages.md" },
            { "自托管部署" = "blog/deployment/self-hosted.md" },
        ] },
        { "高级主题" = [
            { "性能优化" = "blog/advanced/performance.md" },
            { "SEO 优化" = "blog/advanced/seo.md" },
            { "多语言支持" = "blog/advanced/i18n.md" },
            { "自定义 404 页面" = "blog/advanced/custom-404.md" },
            { "自定义字体" = "blog/advanced/custom-fonts.md" },
            { "添加评论系统" = "blog/advanced/comment-system.md" },
        ] },
        { "常见问题" = "faq.md" },
        { "案例展示" = "showcase.md" },
        { "关于" = "about.md" },
    ]},
    { "个人博客" = [
        {"Python_Markdown" = "blog/posts/Python_Markdown.md" },
        {"Image_Classify" = "blog/posts/Image_Classify.md" },
        {"Image_Detection" = "blog/posts/Image_Detection.md"},
        {"Image_Segment" = "blog/posts/Image_Segment.md"},
        {"Image_Match" = "blog/posts/Image_Match.md"},
        {"Rust" = "blog/posts/Rust.md"},
        {"Color" = "blog/posts/Color.md"},
    ] },
]

# ==========================================
# 主题配置 [Theme]
# ==========================================
[project.theme]
variant = "modern"                                      # Zensical 特有：使用 modern 主题变体（或 "classic"）
# custom_dir = "docs/overrides"                         # 自定义主题目录（相对于配置文件）
logo = "https://zensical.org/assets/zensical.svg"       # 网站 Logo
favicon = "https://zensical.org/assets/zensical.svg"    # 网站图标
language = "zh"                                         # 网站语言：中文
font.text = "Inter"
font.code = "JetBrains Mono"

# ===== 主题特性 =====
features = [
    # 导航相关
    "announce.dismiss",           # 可关闭公告栏
    "navigation.prune",           # 只渲染可见导航项
    "navigation.tracking",        # 滚动时URL锚点自动更新
    "navigation.tabs",            # 一级导航显示为顶部Tab
    "navigation.sections",        # 侧边栏分组
    "navigation.top",             # 返回顶部按钮
    "navigation.footer",          # 上一页/下一页导航
    "navigation.expand",          # 默认展开导航
    "navigation.indexes",         # 章节索引页
    "navigation.instant",         # 即时导航
    "navigation.instant.prefetch",  # 预加载
    "navigation.path",  # 路径
    
    # 搜索相关
    "search.suggest",             # 搜索建议
    "search.highlight",           # 搜索结果高亮
    "search.share",               # 搜索结果分享
    
    # 目录相关
    "toc.follow",                 # 目录跟随滚动
    
    # 内容相关
    "content.tooltips",           # 内容提示框
    "content.code.copy",          # 代码复制按钮
    "content.code.select",        # 代码选择功能
    "content.code.annotate",      # 代码注释功能
    # "content.action.edit",      # Edit this page
    # "content.action.view"       # View source of this page
]

# ===== 调色板配置 =====
# 自动模式（跟随系统）
[[project.theme.palette]]
media = "(prefers-color-scheme)"
toggle = { icon = "material/link", name = "关闭自动模式" }

# 日间模式
[[project.theme.palette]]
media = "(prefers-color-scheme: light)"
scheme = "default"                # 日间模式配色
primary = "indigo"                # 主色调
accent = "indigo"                 # 强调色
toggle = { icon = "material/toggle-switch", name = "切换至夜间模式" }

# 夜间模式
[[project.theme.palette]]
media = "(prefers-color-scheme: dark)"
scheme = "slate"                  # 夜间模式配色
primary = "indigo"                # 主色调
accent = "indigo"                 # 强调色
toggle = { icon = "material/toggle-switch-off-outline", name = "切换至日间模式" }

# ===== 图标配置 =====
[project.theme.icon]
repo = "fontawesome/brands/github"          # 仓库图标
previous = "fontawesome/solid/angle-left"   # 上一页图标
next = "fontawesome/solid/angle-right"      # 下一页图标
alternate = "fontawesome/solid/language"    # 语言切换图标

# ==========================================
# 额外配置 [Extra]
# ==========================================
[project.extra]
generator = true

# ===== 状态标签 =====
[project.extra.status]
new = "最近添加"
deprecated = "已弃用"

# ===== 多语言切换配置 =====
# 可选：如果需要多语言翻译功能，取消注释以下配置
# 需要配合 JavaScript 翻译脚本使用
# [[project.extra.alternate]]
# name = "中文"
# link = "javascript:translateTo('chinese_simplified');"
# lang = "zh"
# 
# [[project.extra.alternate]]
# name = "English"
# link = "javascript:translateTo('english');"
# lang = "en"

# ===== 社交媒体链接 =====
# 显示在页脚的社交媒体图标
[[project.extra.social]]
icon = "fontawesome/brands/github"
link = "https://github.com/zhangxige"
name = "GitHub"

[[project.extra.social]]
icon = "fontawesome/brands/telegram"
link = "https://t.me/Wcowin"
name = "Telegram"

[[project.extra.social]]
icon = "fontawesome/regular/envelope"
link = "daxuekanshijie@sina.cn"
name = "Email"

# ===== Google Analytics =====
# 网站分析工具，用于统计访问数据
# 如果你需要使用 Google Analytics，取消注释并替换为你自己的 ID
# [project.extra.analytics]
# provider = "google"
# property = "G-XXXXXXXXXX"  # 请替换为你的 Google Analytics 追踪 ID
# 
# # 用户反馈配置
# [project.extra.analytics.feedback]
# title = "此页面有帮助吗？"
# 
# [[project.extra.analytics.feedback.ratings]]
# icon = "material/thumb-up-outline"
# name = "This page was helpful"
# data = 1
# note = "谢谢你的反馈！"
# 
# [[project.extra.analytics.feedback.ratings]]
# icon = "material/thumb-down-outline"
# name = "This page could be improved"
# data = 0
# note = "感谢您的反馈！"

# ==========================================
# 插件配置 [Plugins]
# ==========================================

# ===== 搜索插件 =====
[project.plugins.search]
separator = '[\s\u200b\-]'

# ===== 博客插件 =====
[project.plugins.blog]
post_date_format = "full"                    # 时间格式：完整日期
draft = true                                  # 启用草稿功能
draft_if_future_date = true                   # 自动将具有未来日期的帖子标记为草稿
post_readtime = true                          # 显示阅读时间
post_readtime_words_per_minute = 265          # 每分钟阅读字数（中文适配）
post_url_format = "{date}/{slug}"             # 文章URL格式
pagination_per_page = 10                      # 每页显示文章数
pagination_url_format = "page/{page}"         # 分页URL格式

# ===== 标签插件 =====
[project.theme.icon.tag]
default = "lucide/hash"
html = "fontawesome/brands/html5"
js = "fontawesome/brands/js"
css = "fontawesome/brands/css3"

[project.extra.tags]
HTML5 = "html"
JavaScript = "js"
CSS = "cs"

# ===== 文档日期插件 =====
# 显示文档的创建和更新时间
# 注意：这个插件需要单独安装：pip install mkdocs-document-dates
# 如果你需要使用，取消注释以下配置
# [project.plugins."document-dates"]
# position = "bottom"            # 显示位置：bottom (文档末尾) 或 top (标题后)
# type = "date"                  # 日期类型：date (日期) / datetime (日期时间) / timeago (相对时间)
# locale = "zh"                  # 本地化语言
# date_format = "%Y-%m-%d"       # 日期格式
# time_format = "%H:%M:%S"       # 时间格式
# show_author = true             # 显示作者信息
# exclude = [                    # 排除以下文件
#     "index.md",
#     "about.md",
#     "blog/index.md"
# ]

# ===== RSS 订阅插件 =====
[project.plugins.rss]
enabled = true                                                                    # 启用 RSS 订阅
match_path = "blog/.*"                                                            # 包含的路径：博客文章
use_git = false                                                                   # 禁用Git日志读取，避免警告
categories = ["tags", "categories"]                                               # 分类标签
comments_path = "#__comments"                                                     # 评论区锚点
image = "https://zensical.org/assets/zensical.svg"                                # RSS 订阅图片
feed_ttl = 1440                                                                   # 订阅更新时间（分钟），24小时
length = 20                                                                       # 最新文章数量
pretty_print = true                                                               # 格式化输出
feed_description = "Zensical 中文教程 - 最详细、最便捷、最前沿的 Zensical 中文教程"  # RSS 描述
feed_title = "Zensical-Wcowin RSS Feed"                                           # RSS 标题

[project.plugins.rss.date_from_meta]
as_creation = "date"           # 创建日期来源
as_update = "update"           # 更新日期来源
datetime_format = "%Y-%m-%d"   # 日期格式

[project.plugins.rss.url_parameters]
utm_source = "rss"             # UTM 来源标记
utm_medium = "feed"            # UTM 媒介标记

# ==========================================
# Markdown 扩展配置 [Markdown Extensions]
# ==========================================

# ===== 官方默认配置（严格按照 Zensical 官方文档）=====
[project.markdown_extensions.abbr]
[project.markdown_extensions.admonition]
[project.markdown_extensions.attr_list]
[project.markdown_extensions.def_list]
[project.markdown_extensions.footnotes]
[project.markdown_extensions.md_in_html]
[project.markdown_extensions.toc]
toc_depth = 3
permalink = true  # 固定标题位置为当前位置，显示 # 符号
[project.markdown_extensions.pymdownx.arithmatex]
generic = true
[project.markdown_extensions.pymdownx.betterem]
smart_enable = "all"
[project.markdown_extensions.pymdownx.caret]
[project.markdown_extensions.pymdownx.details]
[project.markdown_extensions.pymdownx.emoji]
emoji_generator = "zensical.extensions.emoji.to_svg"
emoji_index = "zensical.extensions.emoji.twemoji"
[project.markdown_extensions.pymdownx.highlight]
[project.markdown_extensions.pymdownx.inlinehilite]
[project.markdown_extensions.pymdownx.keys]
[project.markdown_extensions.pymdownx.mark]
[project.markdown_extensions.pymdownx.smartsymbols]
[project.markdown_extensions.pymdownx.superfences]
[project.markdown_extensions.pymdownx.tabbed]
alternate_style = true
[project.markdown_extensions.pymdownx.tasklist]
custom_checkbox = true
[project.markdown_extensions.pymdownx.tilde]